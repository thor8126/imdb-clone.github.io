<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Favourites</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css" integrity="sha512-SzlrxWUlpfuzQ+pcUCosxcglQRNAq/DZjVsC0lE40xsADsfeQoEypE+enwcOiGjk/bSuGGKHEyjSoQ1zVisanQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="style.css">

    <script src="https://code.jquery.com/jquery-3.6.3.js" integrity="sha256-nQLuAZGRRcILA+6dMBOvcRh5Pe310sBpanc6+QBmyVM=" crossorigin="anonymous"></script>
</head>
<body>
    <!-- NAVBAR -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark" style="background: transparent!important; width: 100vw!important; position: fixed; top:0;">
      <div class="container-fluid">
        <a class="navbar-brand icon" href="/">IMDB</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          </ul>

          <ul class="navbar-nav mb-2 mb-lg-0 ms-auto">
            <li class="nav-item favourite">
              <a style="color: white;" class="nav-link" href="/favourites.html"><i style="color: white;" class="fa-regular fa-bookmark"></i> Favourites</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- MAIN BODY -->
    <br>
    <br>
    <br>
    <div class="container" style="display: flex; gap: 30px;">
      
    </div>
    
    <script>
      $(document.onload = function() {
       var fav = localStorage.getItem("fav");

        if(fav == null) {
          fav = [];
          document.querySelector(".container").innerHTML = "<h1>No Favourites</h1><br><a href='/' class='btn btn-primary'>Go Back</a>";
          document.querySelector(".container").style.textAlign = "center";
          document.querySelector(".container").style.marginTop = "50px";
          document.querySelector(".container").style.color = "white";
        } else {
          fav = JSON.parse(fav);
          console.log(fav);
        }

        container = document.querySelector(".container");

        fav.forEach(function(movie) {
          var card = document.createElement("div");
          card.classList.add("card");
          card.classList.add("mb-3");
          card.classList.add("col-12");
          card.classList.add("col-md-6");
          card.classList.add("col-lg-4");
          card.classList.add("col-xl-3");

          var cardBody = document.createElement("div");
          cardBody.classList.add("card-body");

          var cardTitle = document.createElement("h5");
          cardTitle.classList.add("card-title");
          cardTitle.innerHTML = "Title: "+ movie.Title;

          var cardText = document.createElement("p");
          cardText.classList.add("card-text");
          cardText.innerHTML = "Year: " + movie.Year;
          
          varImdbRating = document.createElement("h5");
          cardText.classList.add("card-text");
          cardText.innerHTML = "IMDB Rating: " + movie.imdbRating;
          

          var cardImg = document.createElement("img");
          cardImg.classList.add("card-img-top");
          cardImg.classList.add("img-fluid");
          cardImg.classList.add("img-thumbnail");
          cardImg.classList.add("imgg");
          cardImg.alt = "Poster Not available";
          cardImg.src = movie.Poster;

          var cardLink = document.createElement("a");
          cardLink.classList.add("btn");
          cardLink.classList.add("btn-primary");
          cardLink.classList.add("view-more");
          cardLink.href = "/moviepage.html?movie=" + movie.imdbID;
          cardLink.innerHTML = "View Details";

          cardBody.appendChild(cardTitle);
          cardBody.appendChild(cardText);
          cardBody.appendChild(cardLink);

          card.appendChild(cardImg);
          card.appendChild(cardBody);

          container.appendChild(card);
        });


      });

    </script>


</body>
</html>


<!-- 
Send all data requests to:
https://www.omdbapi.com/?apikey=9f8deefd&t=pathaan

Poster API requests:
http://img.omdbapi.com/?apikey=9f8deefd&t=pathaan -->